using UnityEngine;

public class ClickManager : MonoBehaviour
{
    public int vidaJugador = 3;
    public GameObject[] objetosValidos; // Lista de objetos a los que se puede hacer clic

    void Update()
    {
        if (Input.GetMouseButtonDown(0)) // Click izquierdo
        {
            Vector2 mousePos = Camera.main.ScreenToWorldPoint(Input.mousePosition);
            Collider2D col = Physics2D.OverlapPoint(mousePos);

            if (col != null && EsObjetoValido(col.gameObject))
            {
                Debug.Log("¡Click correcto en: " + col.gameObject.name + "!");
                // Aquí puedes reducir vida del objeto si quieres
            }
            else
            {
                vidaJugador--;
                Debug.Log("¡Click incorrecto! Vida del jugador: " + vidaJugador);
            }
        }
    }

    bool EsObjetoValido(GameObject obj)
    {
        foreach (GameObject valido in objetosValidos)
        {
            if (obj == valido)
                return true;
        }
        return false;
    }
}
